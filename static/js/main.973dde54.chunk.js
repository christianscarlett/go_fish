(this.webpackJsonpgo_fish=this.webpackJsonpgo_fish||[]).push([[0],[,,,,,,,,function(t,s,a){var e={"./assets/cards/10C.png":17,"./assets/cards/10D.png":18,"./assets/cards/10H.png":19,"./assets/cards/10S.png":20,"./assets/cards/2C.png":21,"./assets/cards/2D.png":22,"./assets/cards/2H.png":23,"./assets/cards/2S.png":24,"./assets/cards/3C.png":25,"./assets/cards/3D.png":26,"./assets/cards/3H.png":27,"./assets/cards/3S.png":28,"./assets/cards/4C.png":29,"./assets/cards/4D.png":30,"./assets/cards/4H.png":31,"./assets/cards/4S.png":32,"./assets/cards/5C.png":33,"./assets/cards/5D.png":34,"./assets/cards/5H.png":35,"./assets/cards/5S.png":36,"./assets/cards/6C.png":37,"./assets/cards/6D.png":38,"./assets/cards/6H.png":39,"./assets/cards/6S.png":40,"./assets/cards/7C.png":41,"./assets/cards/7D.png":42,"./assets/cards/7H.png":43,"./assets/cards/7S.png":44,"./assets/cards/8C.png":45,"./assets/cards/8D.png":46,"./assets/cards/8H.png":47,"./assets/cards/8S.png":48,"./assets/cards/9C.png":49,"./assets/cards/9D.png":50,"./assets/cards/9H.png":51,"./assets/cards/9S.png":52,"./assets/cards/AC.png":53,"./assets/cards/AD.png":54,"./assets/cards/AH.png":55,"./assets/cards/AS.png":56,"./assets/cards/JC.png":57,"./assets/cards/JD.png":58,"./assets/cards/JH.png":59,"./assets/cards/JS.png":60,"./assets/cards/KC.png":61,"./assets/cards/KD.png":62,"./assets/cards/KH.png":63,"./assets/cards/KS.png":64,"./assets/cards/QC.png":65,"./assets/cards/QD.png":66,"./assets/cards/QH.png":67,"./assets/cards/QS.png":68,"./assets/cards/aces.png":69,"./assets/cards/back_cards-07.png":70,"./assets/cards/blue_back.png":71,"./assets/cards/gray_back.png":72,"./assets/cards/green_back.png":73,"./assets/cards/honor_clubs.png":74,"./assets/cards/honor_diamond.png":75,"./assets/cards/honor_heart-14.png":76,"./assets/cards/honors_spade-14.png":77,"./assets/cards/purple_back.png":78,"./assets/cards/red_back.png":79,"./assets/cards/yellow_back.png":80,"./assets/interlaced.png":81};function n(t){var s=c(t);return a(s)}function c(t){if(!a.o(e,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=c,t.exports=n,n.id=8},,function(t,s,a){t.exports=a(82)},,,,,function(t,s,a){},function(t,s,a){},function(t,s,a){t.exports=a.p+"static/media/10C.19635027.png"},function(t,s,a){t.exports=a.p+"static/media/10D.39ef422e.png"},function(t,s,a){t.exports=a.p+"static/media/10H.60ab387c.png"},function(t,s,a){t.exports=a.p+"static/media/10S.b208cd7f.png"},function(t,s,a){t.exports=a.p+"static/media/2C.136dab43.png"},function(t,s,a){t.exports=a.p+"static/media/2D.1451de5d.png"},function(t,s,a){t.exports=a.p+"static/media/2H.ebe43495.png"},function(t,s,a){t.exports=a.p+"static/media/2S.33c964ae.png"},function(t,s,a){t.exports=a.p+"static/media/3C.6ed5bf64.png"},function(t,s,a){t.exports=a.p+"static/media/3D.690d5a47.png"},function(t,s,a){t.exports=a.p+"static/media/3H.7278d51d.png"},function(t,s,a){t.exports=a.p+"static/media/3S.9638bf9f.png"},function(t,s,a){t.exports=a.p+"static/media/4C.23c51e0b.png"},function(t,s,a){t.exports=a.p+"static/media/4D.89eaac32.png"},function(t,s,a){t.exports=a.p+"static/media/4H.6695f1d5.png"},function(t,s,a){t.exports=a.p+"static/media/4S.5156259e.png"},function(t,s,a){t.exports=a.p+"static/media/5C.3ac88edd.png"},function(t,s,a){t.exports=a.p+"static/media/5D.24fd440c.png"},function(t,s,a){t.exports=a.p+"static/media/5H.5457f189.png"},function(t,s,a){t.exports=a.p+"static/media/5S.5ab3d862.png"},function(t,s,a){t.exports=a.p+"static/media/6C.5c96f40f.png"},function(t,s,a){t.exports=a.p+"static/media/6D.ff1c6299.png"},function(t,s,a){t.exports=a.p+"static/media/6H.84564e31.png"},function(t,s,a){t.exports=a.p+"static/media/6S.c99b0f04.png"},function(t,s,a){t.exports=a.p+"static/media/7C.4808cc41.png"},function(t,s,a){t.exports=a.p+"static/media/7D.58d872f0.png"},function(t,s,a){t.exports=a.p+"static/media/7H.c8475b53.png"},function(t,s,a){t.exports=a.p+"static/media/7S.82d62864.png"},function(t,s,a){t.exports=a.p+"static/media/8C.a46a54d9.png"},function(t,s,a){t.exports=a.p+"static/media/8D.fcafeaf2.png"},function(t,s,a){t.exports=a.p+"static/media/8H.1e9e59b0.png"},function(t,s,a){t.exports=a.p+"static/media/8S.497eed1e.png"},function(t,s,a){t.exports=a.p+"static/media/9C.4f8d0d8f.png"},function(t,s,a){t.exports=a.p+"static/media/9D.1d495bb1.png"},function(t,s,a){t.exports=a.p+"static/media/9H.33ab7891.png"},function(t,s,a){t.exports=a.p+"static/media/9S.50caac18.png"},function(t,s,a){t.exports=a.p+"static/media/AC.17ca9f77.png"},function(t,s,a){t.exports=a.p+"static/media/AD.f37d608f.png"},function(t,s,a){t.exports=a.p+"static/media/AH.a762540d.png"},function(t,s,a){t.exports=a.p+"static/media/AS.e6a6d2f8.png"},function(t,s,a){t.exports=a.p+"static/media/JC.1595a3ea.png"},function(t,s,a){t.exports=a.p+"static/media/JD.d5682eb4.png"},function(t,s,a){t.exports=a.p+"static/media/JH.fdf4ffc4.png"},function(t,s,a){t.exports=a.p+"static/media/JS.89d2c97e.png"},function(t,s,a){t.exports=a.p+"static/media/KC.aa73cfd0.png"},function(t,s,a){t.exports=a.p+"static/media/KD.6b5b30c0.png"},function(t,s,a){t.exports=a.p+"static/media/KH.3b48ae82.png"},function(t,s,a){t.exports=a.p+"static/media/KS.e8d1a4cf.png"},function(t,s,a){t.exports=a.p+"static/media/QC.d6296277.png"},function(t,s,a){t.exports=a.p+"static/media/QD.6940967d.png"},function(t,s,a){t.exports=a.p+"static/media/QH.63afa62b.png"},function(t,s,a){t.exports=a.p+"static/media/QS.9026849b.png"},function(t,s,a){t.exports=a.p+"static/media/aces.104b50ea.png"},function(t,s,a){t.exports=a.p+"static/media/back_cards-07.e9ac9257.png"},function(t,s,a){t.exports=a.p+"static/media/blue_back.8a890151.png"},function(t,s,a){t.exports=a.p+"static/media/gray_back.db53954a.png"},function(t,s,a){t.exports=a.p+"static/media/green_back.80d296e9.png"},function(t,s,a){t.exports=a.p+"static/media/honor_clubs.27699599.png"},function(t,s,a){t.exports=a.p+"static/media/honor_diamond.f815b8c8.png"},function(t,s,a){t.exports=a.p+"static/media/honor_heart-14.9013ca81.png"},function(t,s,a){t.exports=a.p+"static/media/honors_spade-14.f5d8c5ce.png"},function(t,s,a){t.exports=a.p+"static/media/purple_back.44961e95.png"},function(t,s,a){t.exports=a.p+"static/media/red_back.b27beff2.png"},function(t,s,a){t.exports=a.p+"static/media/yellow_back.28340480.png"},function(t,s,a){t.exports=a.p+"static/media/interlaced.2a71914d.png"},function(t,s,a){"use strict";a.r(s);var e=a(0),n=a.n(e),c=a(9),i=a.n(c),r=(a(15),a(6)),p=a(1),d=a(2),o=a(4),u=a(3),f=a(5),l=(a(16),function(t){function s(t){var a;return Object(p.a)(this,s),(a=Object(o.a)(this,Object(u.a)(s).call(this,t))).value=t.value,a}return Object(f.a)(s,t),Object(d.a)(s,[{key:"render",value:function(){return n.a.createElement("div",{class:"card "+this.value},n.a.createElement("input",{class:"cardimage",type:"image",src:a(8)("./assets/cards/"+this.value+".png"),onClick:this.props.onClick,disabled:this.props.disabled}))}}]),s}(n.a.Component)),g=function(t){function s(t){var a;return Object(p.a)(this,s),(a=Object(o.a)(this,Object(u.a)(s).call(this,t))).refreshDeck(),a}return Object(f.a)(s,t),Object(d.a)(s,[{key:"refreshDeck",value:function(){var t=this;this.cards=[],["C","D","H","S"].forEach((function(s){["A","2","3","4","5","6","7","8","9","10","J","Q","K"].forEach((function(a){t.cards.push(a+s)}))}))}},{key:"shuffle",value:function(){var t,s,a;for(a=this.cards.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),s=this.cards[a],this.cards[a]=this.cards[t],this.cards[t]=s}},{key:"draw",value:function(){return this.cards.pop()}},{key:"render",value:function(){var t="green_back";return this.props.empty&&(t="gray_back"),n.a.createElement("div",{class:"deck"},n.a.createElement("input",{class:"cardimage deck",type:"image",src:a(8)("./assets/cards/"+t+".png"),onClick:this.props.empty?"":this.props.onClick}))}}]),s}(n.a.Component),h=function(t){function s(t){var a;return Object(p.a)(this,s),(a=Object(o.a)(this,Object(u.a)(s).call(this,t))).deck=t.deck,a.props.attachHand(Object(r.a)(a)),a.pairs=0,a.isAI=t.ai,a.state={cards:Array(7).fill().map((function(t){return a.deck.draw()})),matching:a.props.movesFirst},a}return Object(f.a)(s,t),Object(d.a)(s,[{key:"removeIndex",value:function(t,s){return s.slice(0,t).concat(s.slice(t+1))}},{key:"spliceCard",value:function(t){var s=this.removeIndex(t,this.state.cards);return this.setState({cards:s}),s}},{key:"removeIndices",value:function(t,s,a){var e=Math.min(t,s),n=Math.max(t,s);return a.slice(0,e).concat(a.slice(e+1,n)).concat(a.slice(n+1))}},{key:"spliceCards",value:function(t,s){var a=this.removeIndices(t,s,this.state.cards);return this.setState({cards:a}),a}},{key:"spliceMany",value:function(t){for(var s=[],a=this.state.cards.slice().sort(),e=0;e<this.state.cards.length;e++)t.has(e)||s.push(a[e]);return this.setState({cards:s}),s}},{key:"drawFromDeck",value:function(){var t=this.state.cards.slice(),s=this.props.deck.draw();void 0!==s&&(t.push(s),this.setState({cards:t}))}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{class:"hand"},n.a.createElement("p",null,"Pairs: ",this.pairs),this.state.cards.map((function(s){return n.a.createElement(l,{value:t.isAI?"green_back":s,disabled:t.state.matching?"":"disabled",onClick:function(){return t.props.cardFunc(s)},key:s})})))}}]),s}(n.a.Component),m=function(t){function s(){return Object(p.a)(this,s),Object(o.a)(this,Object(u.a)(s).apply(this,arguments))}return Object(f.a)(s,t),Object(d.a)(s,[{key:"render",value:function(){var t=this.props.turn===this.props.player;return n.a.createElement("div",null,n.a.createElement(h,{deck:this.props.deck,isTurn:t,onDrawFunc:this.props.onDrawFunc,ai:this.props.ai,attachHand:this.props.attachHand,cardFunc:this.props.cardFunc,movesFirst:0===this.props.player}))}}]),s}(n.a.Component),b=function(t){function s(t){var a;return Object(p.a)(this,s),(a=Object(o.a)(this,Object(u.a)(s).call(this,t))).deck=new g,a.deck.shuffle(),a.hands=Array(2).fill(null),a.state={winner:null,turn:0,aiTurns:0},a}return Object(f.a)(s,t),Object(d.a)(s,[{key:"attachHand",value:function(t,s){this.hands[t]=s}},{key:"changeTurn",value:function(){this.hands[this.state.turn].setState({matching:!1}),this.hands[this.state.turn].drawFromDeck();var t=(this.state.turn+1)%2,s=this.hands[t];this.setState({turn:t}),s.setState({matching:!0})}},{key:"calcWin",value:function(t,s){console.log("calcing win");var a=null;t.length&&s.length||null!==this.state.winner||(a=this.hands[0].pairs===this.hands[1].pairs?"tie":this.hands[0].pairs>this.hands[1].pairs?"Player":"AI",this.setState({winner:a}))}},{key:"checkPair",value:function(t,s){var a=this.hands[t],e=a.state.cards.indexOf(s),n=this.hands[(t+1)%2],c=n.state.cards.map((function(t){return t.slice(0,-1)})),i=a.state.cards,r=n.state.cards,p=null;return a.state.cards.forEach((function(t){t.slice(0,-1)===s.slice(0,-1)&&t!==s&&(p=a.state.cards.indexOf(t))})),null!==p?(console.log("pair in hand"),i=a.spliceCards(e,p),a.pairs+=1,this.calcWin(i,r),console.log(s,a.state.cards[p]),!0):c.includes(s.slice(0,-1))?(console.log("pair in other hand"),e=a.state.cards.indexOf(s),i=a.spliceCard(e),e=c.indexOf(s.slice(0,-1)),r=n.spliceCard(e),a.pairs+=1,this.calcWin(i,r),console.log(s,n.state.cards[e]),!0):(a.setState({matching:!1}),!1)}},{key:"simulateAI",value:function(){if(!this.state.winner){console.log("simulating AI");var t=this.hands[0],s=this.hands[1];if(!s.state.matching)return console.log("too bad"),this.changeTurn(),void this.setState({aiTurns:0});if(!s.state.cards.length)return this.calcWin(s,t),void this.setState({aiTurns:0});var a=s.state.cards.map((function(t){return t.slice(0,-1)}));a.sort();for(var e=new Set,n=0;n<a.length-1;)a[n]===a[n+1]?(e.add(n),e.add(n+1),n+=2):n++;var c=s.spliceMany(e);s.pairs+=e.size/2,0===e.size&&this.checkPair(1,c[Math.floor(Math.random()*c.length)])&&s.pairs++,this.setState({aiTurns:this.state.aiTurns+1})}}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{class:"board"},n.a.createElement(m,{deck:this.deck,player:1,turn:this.state.turn,attachHand:function(s){return t.attachHand(1,s)},cardFunc:function(s){return t.checkPair(1,s)},ai:!0}),n.a.createElement(g,{onClick:function(){return t.changeTurn()},empty:!this.deck.cards.length}),n.a.createElement("p",null,"Turn: ",this.state.turn?"AI":"Player"),n.a.createElement("p",null,"Winner: ",this.state.winner?this.state.winner:"None"),n.a.createElement(m,{deck:this.deck,player:0,turn:this.state.turn,attachHand:function(s){return t.attachHand(0,s)},cardFunc:function(s){return t.checkPair(0,s)},ai:!1}))}},{key:"componentDidUpdate",value:function(){1===this.state.turn&&null===this.state.winner&&this.simulateAI()}}]),s}(n.a.Component);var x=function(){return n.a.createElement(b,null)};i.a.render(n.a.createElement(x,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.973dde54.chunk.js.map